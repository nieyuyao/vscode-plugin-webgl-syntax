{"version":3,"sources":["../webpack/bootstrap","../external \"vscode\"",".././src/utils.ts",".././src/extension.ts",".././src/providers/HoverProviderPlugin.ts",".././src/helpers/prop.ts",".././src/helpers/shader.ts",".././src/providers/CompletionItemProviderPlugin.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","vscode_1","prop_1","shader_1","attrs","constants","attrRegExp","descRegExp","htmlTagRegExp","link","url","code","content","paramMark","type","paramName","desc","getProp","doc","position","line","character","lineText","lineAt","text","attrName","isHover","replace","raw","segment","offset","segIndex","indexOf","length","Prop","getAttrComponent","prop","comp","find","attr","getConstantComponent","cst","swapAttrComponentMarkDown","undefined","MarkdownString","syntax","returnVal","params","markString","pre","post","bold","tag","htmlTag","forEach","param","linkUrl","markDownString","isTrusted","swapConstantComponentMarkDown","getInputVal","pos","val","isGl","char","charAt","substring","createPropRegExp","pattern","RegExp","createCompleteItems","reg","items","match","item","CompletionItem","snippetStr","index","snippet","SnippetString","insertText","createFunCompleteItem","push","default","shader","createShaderSourceCompleteItem","HoverProviderPlugin_1","CompletionItemProviderPlugin_1","jsSel","scheme","language","htmlSel","hoverProvider","completionItemProvider","activate","context","hoverDisposable","languages","registerHoverProvider","completionDisposable","registerCompletionItemProvider","subscriptions","deactivate","utils_1","[object Object]","document","token","Hover","this","inputVal"],"mappings":"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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = require(\"vscode\");","import { TextDocument, Position, MarkdownString, CompletionItem, SnippetString, Range } from 'vscode';\nimport { Prop } from './helpers/prop';\nimport { Attr } from './helpers/attr';\nimport { Constant } from './helpers/constant';\nimport shaders from './helpers/shader';\nconst attrs:Attr[] = require('../res/webgl.attrs.json');\nconst constants:Constant[] = require('../res/webgl.constants.json');\nconst attrRegExp = /(?:^|\\s*|\\{|\\,)gl\\.([0-9a-zA-Z_]+)(?:$|\\,|;|\\}|\\s*|\\()/g;\nconst descRegExp = /(^|\\s*)(WebGLRenderingContext\\.[0-9a-zA-Z\\(\\)]+)(\\s*)/g;\nconst htmlTagRegExp = /<[^<>]+>/g;\n\nfunction link(name:string, url: string) {\n    return `Reference: [${name}](${url})`;\n}\nfunction bold(content:string) {\n    return `**${content}**`;\n}\nfunction code(content:string) {\n    return `\\`\\`\\`\\n${content}\\n\\`\\`\\``;\n}\nfunction htmlTag(tag:string) {\n    return `\\`${tag}\\``;\n}\nfunction paramMark(type:string, paramName:string, desc:string = '') {\n    return `*@${type}* -\\`${paramName}\\`.${desc}  \\n`;\n}\nexport function getProp(doc: TextDocument, position: Position): Prop {\n    const line = position.line; //行号\n    const character = position.character; //光标的位置\n    let lineText = doc.lineAt(line).text; //行文本\n    let attrName:string = '';\n    let isHover:boolean = false;\n    lineText.replace(attrRegExp, (raw: string, segment: string, offset: number) => {\n        const segIndex = raw.indexOf(segment);\n        if (character >= offset + segIndex && character <= segIndex + offset + segment.length) {\n            attrName = segment;\n            isHover = true;\n        }\n        return raw;\n    });\n    return new Prop(attrName, isHover);\n}\n\nexport function getAttrComponent(prop:Prop) {\n    let comp:Attr | undefined;\n    if (!prop.name) {\n        return;\n    }\n    attrs.find(attr => {\n        if (attr.name === prop.name) {\n            comp = attr;\n        }\n        return !!comp;\n    });\n    return comp;\n}\n\nexport function getConstantComponent(prop:Prop) {\n    let cst:Constant | undefined;\n    if (!prop.name) {\n        return;\n    }\n    constants.find(c => {\n        if (c.name === prop.name) {\n            cst = c;\n        }\n        return !!cst;\n    });\n    return cst;\n}\n\nexport function swapAttrComponentMarkDown(comp:Attr | undefined):MarkdownString {\n    if (comp === undefined) {\n        return new MarkdownString('');\n    }\n    const { desc, syntax, returnVal, url, params } = comp;\n    let markString:string = '';\n    markString = desc.replace(descRegExp, (raw:string, pre:string, segment:string, post:string) => {\n        return pre + bold(segment) + post;\n    });\n    markString = markString.replace(htmlTagRegExp, (raw:string) => {\n        return htmlTag(raw);\n    });\n    markString += '  \\n';\n    markString += code(syntax);\n    markString += '  \\n';\n    params.forEach(param => {\n        markString += paramMark('param', param.paramName, param.desc);\n    });\n    markString += paramMark('return', returnVal);\n    markString += '  \\n';\n    const linkUrl = `https://${url}`;\n    markString += link(linkUrl, linkUrl);\n    let markDownString = new MarkdownString(markString);\n    markDownString.isTrusted = true;\n    return markDownString;\n}\n\nexport function swapConstantComponentMarkDown(comp:Constant | undefined):MarkdownString {\n    if (comp === undefined) {\n        return new MarkdownString('');\n    }\n    const { name, value, desc, url } = comp;\n    let markString:string = '';\n    markString += desc;\n    markString += '  \\n';\n    markString += code(name);\n    markString += '  \\n';\n    markString += paramMark('value', value);\n    const linkUrl = `https://${url}`;\n    markString += link(linkUrl, linkUrl);\n    let markDownString = new MarkdownString(markString);\n    markDownString.isTrusted = true;\n    return markDownString;\n}\n\nexport function getInputVal(doc:TextDocument, pos:Position):string {\n    let val:string = '';\n    let isGl:boolean = false;\n    const line = pos.line;\n    const character = pos.character;\n    const lineText = doc.lineAt(line).text;\n    for (var i = character;i >= 0; i--) {\n        let char = lineText.charAt(i);\n        if (char === '.') {\n            break;\n        }\n        val = char + val;\n    }\n    if (lineText.substring(i-2, i) === 'gl') {\n        isGl = true;\n    }\n    return isGl ? val : '';\n}\n\nexport function createPropRegExp(val:string):RegExp {\n    let pattern:string = '.*';\n    for (let i = 0; i < val.length; i++) {\n        pattern += val.charAt(i) + '.*';\n    }\n    return new RegExp(pattern, 'g');\n}\nexport function createCompleteItems(reg:RegExp, position: Position):Array<CompletionItem> {\n    const items:CompletionItem[] = [];\n    attrs.forEach(attr => {\n        if (attr.name.match(reg)) {\n            let item:CompletionItem;\n            if (attr.type === 'value') {\n                item = new CompletionItem(attr.name, 11);\n            } else {\n                item = createFunCompleteItem(attr);\n            }\n            items.push(item);\n        }\n    });\n    constants.forEach(cst => {\n        if (cst.name.match(reg)) {\n            items.push(new CompletionItem(cst.name, 20));\n        }\n    });\n    shaders.forEach(shader => {\n        if (shader.name.match(reg)) {\n            items.push(createShaderSourceCompleteItem(shader, position));\n        }\n    });\n    return items;\n}\n/**\n * 函数类型的补全提示\n * @param {Attr} attr\n * @return {CompletionItem}\n */\nfunction createFunCompleteItem(attr:Attr):CompletionItem {\n    const { params, name } = attr;\n    const comp = new CompletionItem(name);\n    if (params.length > 0) {\n        let snippetStr = name + '(';\n        params.forEach((param, index) => {\n            snippetStr += '${' + (index + 1) + ':' + param.paramName + '}, ';\n        });\n        snippetStr = snippetStr.substring(0, snippetStr.length - 2);\n        snippetStr += ')';\n        const snippet = new SnippetString(snippetStr);\n        comp.insertText = snippet;\n    }\n    return comp;\n}\n\nfunction createShaderSourceCompleteItem(shader:any, pos: Position):CompletionItem{\n    const { name, value } = shader;\n    const comp = new CompletionItem(name, 0);\n    const snippet = new SnippetString('\\n' + value + '\\n');\n    // const range = new Range(pos.line, pos.character - name.length - 20, pos.line, pos.character);\n    comp.insertText = snippet;\n    // comp.range = range;\n    return comp;\n}","import { languages, ExtensionContext, DocumentFilter }  from 'vscode';\nimport HoverProviderPlugin from './providers/HoverProviderPlugin';\nimport CompletionItemProviderPlugin from './providers/CompletionItemProviderPlugin';\nconst jsSel: DocumentFilter = {\n\tscheme: 'file',\n\tlanguage: 'javascript'\n};\nconst htmlSel: DocumentFilter = {\n\tscheme: 'file',\n\tlanguage: 'html'\n};\nconst hoverProvider = new HoverProviderPlugin();\nconst completionItemProvider = new CompletionItemProviderPlugin();\nexport function activate(context: ExtensionContext) {\n\t//为js文件注册悬浮提供器\n\tconst hoverDisposable = languages.registerHoverProvider([jsSel, htmlSel], hoverProvider);\n\t//自动补全\n\tconst completionDisposable = languages.registerCompletionItemProvider([jsSel, htmlSel], completionItemProvider, '.');\n\t\n\tcontext.subscriptions.push(hoverDisposable, completionDisposable);\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() {}\n","import { HoverProvider, TextDocument, Position, CancellationToken, Hover, MarkdownString } from 'vscode';\nimport { getProp, getAttrComponent, getConstantComponent, swapAttrComponentMarkDown, swapConstantComponentMarkDown } from '../utils';\nimport { Attr } from '../helpers/attr';\nimport { Constant } from '../helpers/constant';\nexport default class HoverProviderPlugin implements HoverProvider {\n    async provideHover(document: TextDocument, position: Position, token: CancellationToken) {\n        const prop = getProp(document, position);\n        let markDownString:MarkdownString;\n        let comp: Attr | Constant | undefined;\n        comp = getAttrComponent(prop);\n        if (comp) {\n            //如果是属性\n            markDownString = swapAttrComponentMarkDown(comp);\n        } else {\n            //如果是常量\n            comp = getConstantComponent(prop);\n            markDownString = swapConstantComponentMarkDown(comp);\n        }\n        //获取对应属性\n        return new Hover(markDownString);\n    }\n}","export class Prop {\n    constructor(name:string, isHover:boolean) {\n        this.name = name;\n        this.isHover = isHover;\n    }\n    name: string = '';\n    isHover: boolean = false;\n}","const vertexShderSourceTemplate:string = `\n    attribute vec4 a_Position;\n    void main() {\n        gl_Position = a_Position;\n    }\n`;\nconst fragmentShderSourceTemplate:string = `\n    void main() {\n        gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n    }\n`;\nexport default [{\n    name: 'VERTEX_SHADER_TEMPLATE',\n    type: 'text',\n    value: '`' + vertexShderSourceTemplate + '`'\n}, {\n    name: 'FRAGMENT_SHADER_TEMPLATE',\n    type: 'text',\n    value: '`' + fragmentShderSourceTemplate + '`'\n}];","import {\n  CompletionItemProvider,\n  TextDocument,\n  Position,\n} from \"vscode\";\nimport { getInputVal, createPropRegExp, createCompleteItems } from \"../utils\";\nexport default class CompletionItemProviderPlugin implements CompletionItemProvider {\n  async provideCompletionItems(document: TextDocument, position: Position) {\n    //获取用户输入\n    const inputVal = getInputVal(document, position);\n    if (!inputVal) {\n      return [];\n    }\n    //产生正则表达式\n    const reg = createPropRegExp(inputVal);\n    return createCompleteItems(reg, position);\n  }\n}\n"],"sourceRoot":""}